{
  "construtor_mexicano_shop": {
  "package": {
    "main": {
      "code": "$${log(\" \");toggle(@mexican_builder);if(!@mexican_builder);keyup(forward);keyup(back);keyup(left);keyup(right);keyup(jump);keyup(sneak);unsetbuild();log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &cOFF&4!\");stop;endif;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &aON&2!\");ifmatches(\"%EMPTYSLOTS%\",\"\\d+\");else;wait(1t);ifmatches(\"%EMPTYSLOTS%\",\"\\d+\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cO módulo não carregou como deveria. Reinicie seu jogo.\");keyup(forward);keyup(back);keyup(left);keyup(right);keyup(jump);keyup(sneak);unsetbuild();log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &cOFF&4!\");stop;endif;endif;ifmatches(%PLAYER%,\"^(lomexicano)$\");set(dev);log(\"DEV\");wait(5t);endif;set(&comando_voar,\"/mc\");ifmatches(\"%SERVER%\",\"mystic|raiz|nightcraft|delta\\.hostsquare\\.com\\.br\");set(&comando_voar,\"/voar\");endif;unset(usar_onchat);ifmatches(\"%SERVER%\",\"clmc|craftlandia\");set(usar_onchat);endif;&script_name = \"onchat_lomexicano\";#event_bind = 1001;&admin_log_name = \"lomexicano\";getkeybind(%#event_bind%,&onchat);ifmatches(\"%&onchat%\",\"event\\((?:[^\\)]*,)?%&script_name%(?:,|\\))\");if(PLAYER == &admin_log_name);log(\"onChat ja instalada!\");endif;else;ifmatches(\"%&onchat%\",\"^(.*)event([^\\(].*)$\");match(\"%&onchat%\",\"^(.*)event([^\\(].*)$\",{&first,&last});setkeybind(%#event_bind%,\"%&first%event()%&last%\");set(&onchat,\"%&first%event()%&last%\");if(PLAYER == &admin_log_name);log(\"onChat tinha 'event', mas sem os parenteses\");endif;endif;ifmatches(\"%&onchat%\",\"^(.+)event\\(([^\\)]*)\\)(.+)$\");match(\"%&onchat%\",\"^(.+)event\\(([^\\)]*)\\)(.+)$\",{&first,&event_content,&last});if(&event_content);set(&event_content,\"%&event_content%,%&script_name%\");else;set(&event_content,\"%&script_name%\");endif;setkeybind(%#event_bind%,\"%&first%event(%&event_content%)%&last%\");if(PLAYER == &admin_log_name);log(\"onChat adicionada!\");endif;else;set(&temp,\"$$\");setkeybind(%#event_bind%,\"%&onchat%%&temp%{event(%&script_name%)}%&temp%\");if(PLAYER == &admin_log_name);log(\"onChat nao tinha 'event' ainda! Macro adicionada!\");endif;endif;log(\"\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cÉ possível que você precise reiniciar o jogo para a onChat funcionar corretamente.\");wait(1);endif;ifmatches(\"%@&mexican_builder[0]%\",\"^/home \\w+( \\w+)?$\");else;set(@&mexican_builder[0],\"/home construir\");endif;ifmatches(\"%@&mexican_builder[1]%\",\"^/home \\w+$\");else;set(@&mexican_builder[1],\"/home construir_temp\");endif;ifmatches(\"%@&mexican_builder[2]%\",\"^/home \\w+( \\w+)?$\");else;set(@&mexican_builder[2],\"/home mkb\");endif;ifmatches(\"%@&mexican_builder[3]%\",\"^/home \\w+$\");else;set(@&mexican_builder[3],\"/home mkb_temp\");endif;ifmatches(\"%@&mexican_builder[4]%\",\"^(Piso|Parede|Customizada)$\");else;set(@&mexican_builder[4],\"Piso\");endif;ifmatches(\"%@&mexican_builder[5]%\",\"^(1|2)$\");else;set(@&mexican_builder[5],\"1\");endif;ifmatches(\"%@&mexican_builder[6]%\",\"^\\d+$\");else;set(@&mexican_builder[6],\"1\");endif;ifmatches(\"%@&mexican_builder[7]%\",\"^\\d+$\");else;set(@&mexican_builder[7],\"20\");endif;ifmatches(\"%@&mexican_builder[8]%\",\"^\\w+(:\\d+)?$\");else;ifmatches(\"%ITEM%\",\"[a-z]\");set(@&mexican_builder[8],\"soulsand\");else;set(@&mexican_builder[8],\"88\");endif;endif;ifmatches(\"%@&mexican_builder[9]%\",\"^-?\\d+ -?\\d+ -?\\d+ -?\\d+ -?\\d+ -?\\d+$\");else;set(@&mexican_builder[9],\"0 0 0 0 0 0\");endif;ifmatches(\"%@&mexican_builder[10]%\",\"^(comprar|buscar)$\");else;set(@&mexican_builder[10],\"buscar\");endif;ifmatches(\"%@&mexican_builder[11]%\",\"^/home \\w+( \\w+)?$\");else;set(@&mexican_builder[11],\"/home comprar\");endif;ifmatches(\"%@&mexican_builder[12]%\",\"^\\w+$\");else;set(@&mexican_builder[12],\"3\");endif;ifmatches(\"%@&mexican_builder[13]%\",\"^(\\d{1,2})$\",#check_var,1);if(#check_var == 0);set(@&mexican_builder[13],\"6\");endif;else;set(@&mexican_builder[13],\"6\");endif;ifmatches(\"%@&mexican_builder[14]%\",\"^\\d+$\");else;set(@&mexican_builder[14],\"1\");endif;ifmatches(\"%@&mexican_builder[15]%\",\"^\\d+$\");else;set(@&mexican_builder[15],\"1\");endif;ifmatches(\"%@&mexican_builder[16]%\",\"^\\d+$\");else;set(@&mexican_builder[16],\"4\");endif;ifmatches(\"%@&mexican_builder[17]%\",\"^(East|West|North|South)$\");else;set(@&mexican_builder[17],\"East\");endif;ifmatches(\"%@&mexican_builder[18]%\",\"^(East|West|North|South)$\");else;set(@&mexican_builder[18],\"South\");endif;ifmatches(\"%@&mexican_builder[19]%\",\"^\\d+(?:\\.\\d{2})?$\");else;set(@&mexican_builder[19],\"999999.99\");endif;ifmatches(\"%@&mexican_builder[20]%\",\"^\\d+$\");else;set(@&mexican_builder[20],\"1\");endif;set(&home_plant,\"%@&mexican_builder[0]%\");set(&home_plant_temp,\"%@&mexican_builder[1]%\");set(&home_mkb,\"%@&mexican_builder[2]%\");set(&home_mkb_temp,\"%@&mexican_builder[3]%\");set(&qual_obra,\"%@&mexican_builder[4]%\");set(#andares_por_vez,\"%@&mexican_builder[5]%\");set(#numero_de_andares,\"%@&mexican_builder[6]%\");set(#blocos_por_segundo,\"%@&mexican_builder[7]%\");set(&id_do_bloco,\"%@&mexican_builder[8]%\");set(&coordenadas_dos_vertices,\"%@&mexican_builder[9]%\");set(&comprar_ou_buscar,\"%@&mexican_builder[10]%\");set(&home_comprar,\"%@&mexican_builder[11]%\");set(#vazios_entre_andares,\"%@&mexican_builder[12]%\");set(#velocidade_do_voo,\"%@&mexican_builder[13]%\");set(#primeiro_bau,\"%@&mexican_builder[14]%\");set(#primeira_coluna,\"%@&mexican_builder[15]%\");set(#raio,\"%@&mexican_builder[16]%\");set(&lado_para_construir,\"%@&mexican_builder[17]%\");set(&lado_para_construir_perpendicular,\"%@&mexican_builder[18]%\");set(&valor_maximo,\"%@&mexican_builder[19]%\");set(#primeiro_andar,\"%@&mexican_builder[20]%\");#blocos_por_vez_parede = 5;do();match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});if(#y1 < #y2);#altura_primeiro_andar = #y1 + (#primeiro_andar - 1) * (#vazios_entre_andares + 1);else;#altura_primeiro_andar = #y2 + (#primeiro_andar - 1) * (#vazios_entre_andares + 1);endif;unset(&prompt[]);push(&prompt[],\"§6§lCONSTRUTOR §2§lMEX§f§lIC§4§lANO,\");ifmatches(\"%&qual_obra%\");set(&cor_obra,\"c\");else;ifmatches(\"%&qual_obra%\",\"parede\");set(&cor_obra,\"b\");else;set(&cor_obra,\"2\");endif;endif;push(&prompt[],\"§7-> §eObra: §%&cor_obra%%&qual_obra%\");ifmatches(\"%&qual_obra%\",\"^(Piso|Parede)$\");push(&prompt[],\"§7-> §eAndares: §f%#numero_de_andares%\");ifmatches(%&qual_obra%,\"^(Piso)$\");push(&prompt[],\"§7-> §eAndares §6por vez: §e%#andares_por_vez%\");endif;push(&prompt[],\"§7-> §fPrimeiro §eandar: §f%#primeiro_andar% §8(§7Y: %#altura_primeiro_andar%§8)\");ifmatches(%&qual_obra%,\"^(Piso)$\");push(&prompt[],\"§7-> §7Vazios §fentre andares: §a%#vazios_entre_andares%\");endif;push(&prompt[],\"§7-> §eHome §ainicial: §a%&home_plant%\");push(&prompt[],\"§7-> §eHome §7temp: §f%&home_plant_temp%\");endif;push(&prompt[],\" \");push(&prompt[],\"§7-> §aID §fdo bloco: §e%&id_do_bloco%\");push(&prompt[],\"§7-> §fBlocos por §eseg.§f: §3%#blocos_por_segundo%\");ifmatches(\"%&qual_obra%\",\"^(Piso|Parede)$\");if(#velocidade_do_voo <= 2);set(&cor_velocidade,\"4\");elseif(#velocidade_do_voo <= 4);set(&cor_velocidade,\"6\");elseif(#velocidade_do_voo <= 6);set(&cor_velocidade,\"e\");elseif(#velocidade_do_voo <= 8);set(&cor_velocidade,\"a\");elseif(#velocidade_do_voo <= 10);set(&cor_velocidade,\"2\");else;set(&cor_velocidade,\"5\");endif;push(&prompt[],\"§7-> §eVelocidade: §%&cor_velocidade%%#velocidade_do_voo%\");push(&prompt[],\" \");ifmatches(\"%&comprar_ou_buscar%\",\"comprar\");set(&cor_comprar_ou_buscar,\"a\");else;set(&cor_comprar_ou_buscar,\"6\");endif;push(&prompt[],\"§7-> §aRepor §fitens: §%&cor_comprar_ou_buscar%%&comprar_ou_buscar%\");ifmatches(\"%&comprar_ou_buscar%\",\"comprar\");push(&prompt[],\"§7-> §eHome comprar: §f%&home_comprar%\");push(&prompt[],\"§7-> §eValor §6máx: §a%&valor_maximo% §8(por unidade)\");else;push(&prompt[],\"§7-> §eHome §aitens: §f%&home_mkb%\");push(&prompt[],\"§7-> §eHome §7itens temp: §f%&home_mkb_temp%\");push(&prompt[],\"§7-> §6Baú %#primeiro_bau% §fda §acoluna %#primeira_coluna%\");endif;endif;push(&prompt[],\" \");push(&prompt[],\"§7-> §fCoordenadas §bvértice 1: §aX:%#x1% §bY:%#y1% §cZ:%#z1%\");push(&prompt[],\"§7-> §fCoordenadas §evértice 2: §aX:%#x2% §bY:%#y2% §cZ:%#z2%\");push(&prompt[],\" \");push(&prompt[],\",§2--> §aContinuar\");push(&prompt[],\"§4<-- §cSair\");unsafe(0);unset(&prompt);foreach(&prompt[],&i);if(&prompt);set(&prompt,\"%&prompt%,%&i%\");else;set(&prompt,\"%&i%\");endif;next;endunsafe;unset(&resposta);prompt(&resposta,\"$$[ [%&prompt%]]\",\"§fEscolha uma opção do menu\");strip(&resposta,\"%&resposta%\");ifmatches(\"%&resposta%\",\"^(\\s*|--> Continuar)$\");break;elseif(!&resposta);break;endif;ifmatches(\"%&resposta%\",\"^(<-- Sair|Sair|Exit)$\");log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &cOFF&4!\");unset(@mexican_builder);stop;endif;ifbeginswith(\"%&resposta%\",\"-> Repor itens:\");ifmatches(\"%&comprar_ou_buscar%\",\"comprar\");set(&comprar_ou_buscar,\"buscar\");else;set(&comprar_ou_buscar,\"comprar\");endif;endif;ifbeginswith(\"%&resposta%\",\"-> Valor m\");prompt(&resposta,\"$$?\",\"§fDigite o §evalor mais alto §fque você §aestá disposto a pagar §6por unidade§f. §8Ex: §610.20 §8, §6100§8, §610k§8, §61.4kk§8\");if(&resposta);ifmatches(\"%&resposta%\",\"^(\\d+(?:\\.\\d{2})?)\\s*(?:c|coins)?$\",&valor_maximo,1);else;ifmatches(\"%&resposta%\",\"^(\\d+)(k{1,2})$\");match(\"%&resposta%\",\"^(\\d+)(k{1,2})$\",{&maximo_temp,&ks});if(&ks == \"kk\");set(&valor_maximo,\"%&maximo_temp%000000\");elseif(&ks == \"k\");set(&valor_maximo,\"%&maximo_temp%000\");endif;else;ifmatches(\"%&resposta%\",\"^(\\d+)(?:\\.|\\,)(\\d{1,3})(k{1,2})$\");match(\"%&resposta%\",\"^(\\d+)(?:\\.|\\,)(\\d{1,3})(k{1,2})$\",{&maximo_temp,#maximo_temp_2,&ks});if(&ks == \"kk\");if(#maximo_temp_2 < 10);set(&valor_maximo,\"%&maximo_temp%%#maximo_temp_2%00000\");elseif(#maximo_temp_2 < 100);set(&valor_maximo,\"%&maximo_temp%%#maximo_temp_2%0000\");elseif(#maximo_temp_2 < 1000);set(&valor_maximo,\"%&maximo_temp%%#maximo_temp_2%000\");else;set(erro);endif;elseif(&ks == \"k\");if(#maximo_temp_2 < 10);set(&valor_maximo,\"%&maximo_temp%%#maximo_temp_2%00\");elseif(#maximo_temp_2 < 100);set(&valor_maximo,\"%&maximo_temp%%#maximo_temp_2%0\");else;set(erro);endif;endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Obra:\");prompt(&resposta,\"$$[ [§cPiso,§bParede,§2Customizada]]\",\"§fEscolha um tipo de construção\");strip(&resposta,\"%&resposta%\");if(&resposta);ifmatches(\"%&resposta%\",\"^(Piso|Parede|Customizada)$\");set(&qual_obra,\"%&resposta%\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Andares:\");ifmatches(%&qual_obra%,\"^(Parede)$\");log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cEste valor é calculado automaticamente pela diferença de nível entre os vértices da parede!\");wait(1);else;unset(#resposta);prompt(#resposta,\"$$?\",\"§fQuantos andares deseja construir? §8(§7Ex: §61§7, §64§8)\");if(#resposta > 0);set(#numero_de_andares,%#resposta%);if(#numero_de_andares < #primeiro_andar);#primeiro_andar = 1;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aAlterando primeiro andar construído para &61&a!\");wait(1);endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Primeiro andar:\");unset(#resposta);prompt(#resposta,\"$$?\",\"§fPor qual andar deseja começar? §8(§7Ex: §61§7, §64§8)\");if((#resposta > 0)&&(#resposta <= #numero_de_andares));set(#primeiro_andar,%#resposta%);else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");if(#resposta > #numero_de_andares);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cVocê não pode iniciar pelo andar &6%#resposta% &cse a torre terá &6%#numero_de_andares% &candares.\");endif;wait(1);endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Andares por vez:\");unset(#resposta);prompt(#resposta,\"$$[ [1,2]]\",\"§fQuantos andares deseja construir ao mesmo tempo?\");ifmatches(%#resposta%,\"^(1|2)$\");set(#andares_por_vez,%#resposta%);if(#andares_por_vez > 1);if(#vazios_entre_andares >= 4);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fComo foi escolhido construir mais de um andar simultaneamente, o número de blocos vazios entre andares foi reduzido para 3.\");#vazios_entre_andares = 3;wait(1);endif;endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Vazios entre andares:\");unset(#resposta);prompt(#resposta,\"$$?\",\"§fQuantos blocos vazios deseja deixar entre cada andar? §8(§74+ limitará a construção simultânea em 1§8)\");if(#resposta > 0);set(#vazios_entre_andares,%#resposta%);if(#vazios_entre_andares >= 4);if(#andares_por_vez > 1);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fComo o valor escolhido para o número de blocos entre os andares foi maior que 3, o número de andares construídos simultaneamente foi limitado em 1.\");#andares_por_vez = 1;wait(1);endif;endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Home inicial:\");unset(&resposta);prompt(&resposta,\"$$?\",\"§fDigite a home do começo da construção §8(§7Ex: §6/home plant§7, §6/home fungo§8)\");if(&resposta);ifmatches(\"%&resposta%\",\"^/home \\w+( \\w+)?$\");ifmatches(%&resposta%,\"^(%&home_plant%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cEssa home já está em uso!\");wait(1);else;set(&home_plant,\"%&resposta%\");endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Home temp:\");unset(&resposta);prompt(&resposta,\"$$?\",\"§fDigite a home temporária que será setada durante a construção §8(§7Ex: §6/home plant_temp§7, §6/home temp§8)\");if(&resposta);ifmatches(\"%&resposta%\",\"^/home \\w+$\");ifmatches(%&resposta%,\"^(%&home_plant%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cEssa home já está em uso!\");wait(1);else;set(&home_plant_temp,\"%&resposta%\");endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> ID do bloco:\");unset(&resposta);prompt(&resposta,\"$$i:d\",\"§fEscolha ou digite o ID do bloco a ser utilizado.\");if(&resposta);ifmatches(\"%&resposta%\",\"^\\w+(:\\d+)?$\");ifmatches(\"%&resposta%\",\"^(\\w+):0$\",&resposta,1);endif;getiteminfo(%&resposta%,&check_var);if(&check_var != \"None\");set(&id_do_bloco,\"%&resposta%\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Blocos por seg.:\");unset(#resposta);prompt(#resposta,\"$$?\",\"§fQuantos blocos deseja colocar por segundo? §8(§7Entre 1 e 60. Ex: §610§7, §630§8)\");if((#resposta >= 1)&&(#resposta <= 60));set(#blocos_por_segundo,%#resposta%);else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Velocidade:\");unset(&resposta);prompt(&resposta,\"$$[ [§41,§42,§63,§64,§e5,§e6,§a7,§a8,§29,§210,,§5Customizada]]\",\"§fCom qual velocidade deseja voar?\");strip(&resposta,\"%&resposta%\");if(&resposta);set(#resposta,%&resposta%);if((#resposta >= 1)&&(#resposta <= 10));set(#velocidade_do_voo,%#resposta%);elseif(&resposta == \"Customizada\");unset(&resposta);prompt(&resposta,\"$$?\",\"§fDigite um valor para a §bvelocidade de voo§f. Padrão: §a6§f. §c§nValores acima de 25 não são recomendados§r§c. §7Ex: §611§8, §613\");strip(&resposta,\"%&resposta%\");set(#resposta,%&resposta%);if(#resposta >= 1);set(#velocidade_do_voo,%#resposta%);else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Home comprar:\");unset(&resposta);prompt(&resposta,\"$$?\",\"§fDigite a home setada olhando para a placa de compra do item §8(§7Ex: §6/home comprar§7, §6/home loja§8)\");if(&resposta);ifmatches(\"%&resposta%\",\"^/home \\w+( \\w+)?$\");ifmatches(%&resposta%,\"^(%&home_plant%|%&home_plant_temp%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cEssa home já está em uso!\");wait(1);else;set(&home_comprar,\"%&resposta%\");endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Home itens:\");unset(&resposta);prompt(&resposta,\"$$?\",\"§fDigite a home da trap de itens §8(§7Ex: §6/home baus§7, §6/home mkb§8)\");if(&resposta);ifmatches(\"%&resposta%\",\"^/home \\w+( \\w+)?$\");ifmatches(%&resposta%,\"^(%&home_plant%|%&home_plant_temp%|%&home_mkb_temp%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cEssa home já está em uso!\");wait(1);else;set(&home_mkb,\"%&resposta%\");endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Home itens temp:\");unset(&resposta);prompt(&resposta,\"$$?\",\"§fDigite a home temporária que será setada na trap de itens §8(§7Ex: §6/home baus_temp§7, §6/home mkb_temp§8)\");if(&resposta);ifmatches(\"%&resposta%\",\"^/home \\w+$\");ifmatches(%&resposta%,\"^(%&home_plant%|%&home_plant_temp%|%&home_mkb%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cEssa home já está em uso!\");wait(1);else;set(&home_mkb_temp,\"%&resposta%\");endif;else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifmatches(\"%&resposta%\",\"^-> Coordenadas v.rtice (1|2):\",#vertice,1);if(dev);log(\"vertice %#vertice%\");endif;do();match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});unset(&resposta);if(#vertice == 1);set(&temp,\"§aX: §a%#x1%,§bY: §b%#y1%,§cZ: §c%#z1%\");else;set(&temp,\"§aX: §a%#x2%,§bY: §b%#y2%,§cZ: §c%#z2%\");endif;prompt(&resposta,\"$$[ [%&temp%,,§e-> §6Clicar no bloco,§2-> §aContinuar]]\",\"§fEscolha uma opção para determinar as coordenadas do vértice §a%#vertice%§f.\");strip(&resposta,\"%&resposta%\");if((!&resposta)||(&resposta == \"-> Continuar\"));break;endif;ifmatches(\"%&resposta%\",\"^(X|Y|Z):\",&resposta,1);#resposta = -1;prompt(#resposta,\"$$?\",\"§fDigite um valor para a coordenada §6%&resposta% §fdo vértice %#vertice%.\");if((&resposta == \"X\")&&(#vertice == 1));set(&coordenadas_dos_vertices,\"%#resposta% %#y1% %#z1% %#x2% %#y2% %#z2%\");elseif((&resposta == \"Y\")&&(#vertice == 1));set(&coordenadas_dos_vertices,\"%#x1% %#resposta% %#z1% %#x2% %#y2% %#z2%\");elseif((&resposta == \"Z\")&&(#vertice == 1));set(&coordenadas_dos_vertices,\"%#x1% %#y1% %#resposta% %#x2% %#y2% %#z2%\");elseif((&resposta == \"X\")&&(#vertice == 2));set(&coordenadas_dos_vertices,\"%#x1% %#y1% %#z1% %#resposta% %#y2% %#z2%\");elseif((&resposta == \"Y\")&&(#vertice == 2));set(&coordenadas_dos_vertices,\"%#x1% %#y1% %#z1% %#x2% %#resposta% %#z2%\");elseif((&resposta == \"Z\")&&(#vertice == 2));set(&coordenadas_dos_vertices,\"%#x1% %#y1% %#z1% %#x2% %#y2% %#resposta%\");endif;elseif(&resposta == \"-> Clicar no bloco\");if(LMOUSE);do();wait(1t);while(LMOUSE);endif;log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fClique com o &abotão esquerdo &fno bloco que você quer que determine o vértice §a%#vertice%§f.\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fPressione &6DELETE&f ou ataque o ar para cancelar.\");do();until((KEY_DELETE)||(LMOUSE));if(LMOUSE);if(HIT == \"TILE\");if(#vertice == 1);if(dev);log(\"alterando vertice 1\");endif;set(&coordenadas_dos_vertices,\"%HITX% %HITY% %HITZ% %#x2% %#y2% %#z2%\");else;if(dev);log(\"alterando vertice 2\");endif;set(&coordenadas_dos_vertices,\"%#x1% %#y1% %#z1% %HITX% %HITY% %HITZ%\");endif;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aCoordenadas do vértice &6%#vertice% &aalteradas.\");do(2);wait(1t);while(LMOUSE);else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cVocê precisa clicar em um bloco válido!\");wait(1);endif;elseif(!KEY_DELETE);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cVértice não alterado. Tente novamente.\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cVértice não alterado.\");endif;endif;loop;unset(&resposta);endif;ifbeginswith(\"%&resposta%\",\"-> Baú\");unset(&resposta);unset(ok);prompt(&resposta,\"$$?\",\"§fPor qual baú deseja começar? §8(§7Ex: §6baú 6§8, §66§8, §6baú 1 coluna 2§8, §62 1§8)\");if(&resposta);ifmatches(\"%&resposta%\",\"^(?:ba. ?)?(\\d+)\\s*$\",#start,1);if(#start <= 0);#start = 1;endif;#primeira_coluna = ((#start - 1)/5);#primeiro_bau = #start - (#primeira_coluna * 5);#primeira_coluna = #primeira_coluna + 1;if(#primeira_coluna <= 0);#primeira_coluna = 1;endif;set(ok);else;ifmatches(\"%&resposta%\",\"^(?:ba. ?)?(\\d+)(?: |,+)\\s*(?:da\\s*)?(?:coluna ?)?(\\d+)$\");match(\"%&resposta%\",\"^(?:ba. ?)?(\\d+)(?: |,+)\\s*(?:da\\s*)?(?:coluna ?)?(\\d+)$\",{#start,#start2});if(#start > 5);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cBaú deve ser um número de 1 a 5!\");wait(1);else;if(#start <= 0);#start = 1;endif;if(#start2 <= 0);#start2 = 1;endif;#primeiro_bau = #start;#primeira_coluna = #start2;if(#primeira_coluna <= 0);#primeira_coluna = 1;endif;set(ok);endif;endif;endif;if(!ok);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cResposta inválida!\");wait(1);endif;endif;unset(&resposta);endif;ifmatches(\"%&qual_obra%\",\"^(Parede)$\");match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});calc(#numero_de_andares,\"ceil( (abs(%#y2% - %#y1%))/%#blocos_por_vez_parede%)\");if(#numero_de_andares < #primeiro_andar);#primeiro_andar = 1;endif;endif;set(@&mexican_builder[0],\"%&home_plant%\");set(@&mexican_builder[1],\"%&home_plant_temp%\");set(@&mexican_builder[2],\"%&home_mkb%\");set(@&mexican_builder[3],\"%&home_mkb_temp%\");set(@&mexican_builder[4],\"%&qual_obra%\");set(@&mexican_builder[5],\"%#andares_por_vez%\");set(@&mexican_builder[6],\"%#numero_de_andares%\");set(@&mexican_builder[7],\"%#blocos_por_segundo%\");set(@&mexican_builder[8],\"%&id_do_bloco%\");set(@&mexican_builder[9],\"%&coordenadas_dos_vertices%\");set(@&mexican_builder[10],\"%&comprar_ou_buscar%\");set(@&mexican_builder[11],\"%&home_comprar%\");set(@&mexican_builder[12],\"%#vazios_entre_andares%\");set(@&mexican_builder[13],\"%#velocidade_do_voo%\");set(@&mexican_builder[14],\"%#primeiro_bau%\");set(@&mexican_builder[15],\"%#primeira_coluna%\");set(@&mexican_builder[16],\"%#raio%\");set(@&mexican_builder[17],\"%&lado_para_construir%\");set(@&mexican_builder[18],\"%&lado_para_construir_perpendicular%\");set(@&mexican_builder[19],\"%&valor_maximo%\");set(@&mexican_builder[20],\"%#primeiro_andar%\");loop;ifmatches(\"%&qual_obra%\",\"^(Customizada)$\");match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});unset(#x_coords[]);unset(#y_coords[]);unset(#z_coords[]);regioncoords(%#x1%,%#y1%,%#z1%,%#x2%,%#y2%,%#z2%,#x_coords[],#y_coords[],#z_coords[],true);unsetbuild();wait(1t);setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,\"nao\",\"nao\",\"nao\",true);if(dev);arraysize(#x_coords[],#sizex);arraysize(#y_coords[],#sizey);arraysize(#z_coords[],#sizez);log(\"x: %#sizex%\");log(\"y: %#sizey%\");log(\"z: %#sizez%\");log(\"setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,,,,true)\");log(\"start: %#x_coords[0]%,%#y_coords[0]%,%#z_coords[0]%\");dec(#sizex);dec(#sizey);dec(#sizez);log(\"end: %#x_coords[%#sizex%]%,%#y_coords[%#sizey%]%,%#z_coords[%#sizez%]%\");endif;wait(1);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aIniciando...\");log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &6MODO PERSONALIZADO:\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eO player se movimenta como quiser, e a macro apenas coloca os blocos.\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eDivirta-se!\");log(\" \");do();loop;endif;if(!CANFLY);echo(\"%&comando_voar%\");log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&comando_voar%\");do(40);wait(1t);until(CANFLY);if(!CANFLY);log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cÉ necessário poder &6voar &cpara utilizar esta macro!\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &cOFF&4!\");unset(@mexican_builder);stop;endif;endif;ifmatches(\"%&qual_obra%\",\"^(Parede)$\");match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});if(#y2 < #y1);set(&coordenadas_dos_vertices,\"%#x2% %#y2% %#z2% %#x1% %#y1% %#z1%\");if(dev);log(\"Posição dos blocos invertida!\");endif;endif;endif;ifmatches(\"%&qual_obra%\",\"^(Parede)$\");#vazios_entre_andares = #blocos_por_vez_parede - 1;#andares_por_vez = 1;endif;if(dev);log(\"andares por vez: %#andares_por_vez%\");endif;unset(setei_home_temp);unset(setei_home_temp_mkb);unset(#todos_os_y[]);unset(&xz_start);unset(ultima_andada);unset(#vou_finalizar_parede);if(#primeiro_andar == #numero_de_andares);#vou_finalizar_parede = 1;endif;#offset_x = 0;#offset_z = 0;set(&delay_para_slotclick,\"0t\");match(\"%&home_plant_temp%\",\"^/home (\\w+)\",&home_plant_temp_sufixo,1);match(\"%&home_mkb_temp%\",\"^/home (\\w+)\",&home_mkb_temp_sufixo,1);if(dev);log(\"Home plant temp sufixo: %&home_plant_temp_sufixo%\");log(\"Home mkb temp sufixo: %&home_mkb_temp_sufixo%\");endif;if(#velocidade_do_voo <= 1);set(&motion_de_voo,\"0.01\");else;calc(&motion_de_voo,\"%#velocidade_do_voo%/100\");if(dev);log(\"motion de voo: %&motion_de_voo%\");endif;endif;if(#velocidade_do_voo > 4);set(&speed_conversao,\"0.04\");else;set(&speed_conversao,\"0.0%#velocidade_do_voo%\");endif;&blocos_que_pode_entrar = \"0|air|68|wall_sign|69|lever|323|sign|131|tripwire_hook|132|tripwire|115|nether_wart|141|carrots|142|potatoes|59|wheat|31|tallgrass|6|sapling|37|yellow_flower|38|red_flower|39|brown_mushroom|40|red_mushroom|50|torch|55|redstone_wire|70|stone_pressure_plate|72|wooden_pressure_plate|75|unlit_redstone_torch|76|redstone_torch|83|reeds|104|pumpkin_stem|105|melon_stem|106|vine\";#andar_atual = #primeiro_andar - 1;do();unset(devo_remover_primeiro_bloco);#andar_atual_log = #andar_atual + 1;if( (#andar_atual + 1) > #numero_de_andares);log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aTodos os processos foram concluídos!\");break;endif;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fAndar atual: &a%#andar_atual_log%&8/&e%#numero_de_andares%\");#primeiro_andar = #andar_atual + 1;set(@&mexican_builder[20],\"%#primeiro_andar%\");ifmatches(%&qual_obra%,\"^(Piso|Parede)$\");#loops = #numero_de_andares - 1;#incremento_y = #vazios_entre_andares + 1;ifmatches(%&qual_obra%,\"^(Parede)$\");#loops = #andar_atual + 1;endif;match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});unset(#x_coords[]);unset(#y_coords[]);unset(#z_coords[]);#nivel_y_do_player = (#y1 + 1) + ((#andar_atual - 0)*(#vazios_entre_andares + 1));if(dev);log(\"nivel y do player: %#nivel_y_do_player%\");endif;#andares_agora = 0;#y_filler = -1;#primeiro_index_segundo_andar = -1;for(#loop,%#andar_atual%,%#loops%);#y = #incremento_y * #loop;#y1_list = #y + #y1;#y2_list = #y + #y2;ifmatches(%&qual_obra%,\"^(Parede)$\");#y1_list = #y1 + #y;#y2_list = #y1 + #y + (#vazios_entre_andares + 1);if((#y2_list > #y2)&&(#y2_list > #y1));if(#y2 > #y1);#y2_list = #y2;else;#y2_list = #y1;endif;endif;endif;if(#y_filler == -1);#y_filler = #y1_list;endif;indexof(#todos_os_y[],#i,%#y1_list%);if(#i == -1);push(#todos_os_y[],%#y1_list%);endif;regioncoords(%#x1%,%#y1_list%,%#z1%,%#x2%,%#y2_list%,%#z2%,#x_coords[],#y_coords[],#z_coords[],false);if(dev);log(\"&8[2] &6regioncoords: %#x1%&b,&6%#y1_list%&b,&6%#z1% &8-> &e%#x2%&b,&e%#y2_list%&b,&e%#z2%\");endif;if(#primeiro_index_segundo_andar == -1);arraysize(#x_coords[],#primeiro_index_segundo_andar);endif;if(#andar_atual_log < #numero_de_andares);set(devo_remover_primeiro_bloco);endif;inc(#andares_agora);if(#andares_agora >= #andares_por_vez);break;endif;next;endif;#andar_atual = #andar_atual + #andares_por_vez;ifmatches(\"%&qual_obra%\",\"^(Parede)$\");set(#andar_devagarinho,8);else;set(#andar_devagarinho,0);endif;unset(necessario_reiniciar_andar);do();set(primeiro_loop);unset(@teleportado_lomexicano);unset(&xyz_temp,\"%XPOS%,%YPOS%,%ZPOS%\");do();echo(\"%&home_plant%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&home_plant%\");do(70);wait(2t);if(dev);log(\"XZ_START: %&xz_start% <> %XPOS% %ZPOS%\");endif;until((@teleportado_lomexicano)||(&xz_start == \"%XPOS% %ZPOS%\"));if((@teleportado_lomexicano)||(&xz_start == \"%XPOS% %ZPOS%\"));else;if(dev);log(\"onChat não detectada. Verificando coordenada do vértice.\");endif;match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});if( ((XPOS == #x1)&&(ZPOS == #z1)) || ((XPOS == #x2)&&(ZPOS == #z2)) );if(dev);log(\"coordenada ok\");endif;break;endif;endif;until((@teleportado_lomexicano)||(&xz_start == \"%XPOS% %ZPOS%\"));wait(1);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aIniciando...\");unsetbuild();setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,\"\",\"\",\"\",true);if(primeiro_loop);match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});ifmatches(%&qual_obra%,\"^(Piso)$\");#yaw_frente = ((DIRECTION == \"E\")*90)+((DIRECTION == \"S\")*180)+((DIRECTION == \"W\")*270);if(dev);log(\"Yaw_frente: %#yaw_frente% (%DIRECTION%)\");endif;if(((XPOS == #x1)&&(ZPOS == #z1))||(XPOS == #x2)&&(ZPOS == #z2));if((XPOS == #x1)&&(ZPOS == #z1));#x_inicial = #x1;#z_inicial = #z1;#x_final = #x2;#z_final = #z2;else;#x_inicial = #x2;#z_inicial = #z2;#x_final = #x1;#z_final = #z1;set(&coordenadas_dos_vertices,\"%#x2% %#y2% %#z2% %#x1% %#y1% %#z1%\");set(@&mexican_builder[9],\"%&coordenadas_dos_vertices%\");if(dev);log(\"blocos inicial e final invertidos!\");endif;endif;#dx = #x_final - #x_inicial;#dz = #z_final - #z_inicial;if(dev);log(\"dx: %#dx%, dz: %#dz%\");endif;if((#yaw_frente == 90)||(#yaw_frente == 270));if(#dx > 0);&lado_para_construir = \"East\";else;&lado_para_construir = \"West\";endif;if(#dz < 0);&lado_para_construir_perpendicular = \"North\";#offset_z = -2;if(#offset_z < #dz);#offset_z = #dz;if(dev);log(\"alterando offset_z para %#dz%\");endif;endif;else;&lado_para_construir_perpendicular = \"South\";#offset_z = 2;if(#offset_z > #dz);#offset_z = #dz;if(dev);log(\"alterando offset_z para %#dz%\");endif;endif;endif;else;if(#dz < 0);&lado_para_construir = \"North\";else;&lado_para_construir = \"South\";endif;if(#dx > 0);&lado_para_construir_perpendicular = \"East\";#offset_x = 2;if(#offset_x > #dx);#offset_x = #dx;if(dev);log(\"alterando offset_x para %#dx%\");endif;endif;else;&lado_para_construir_perpendicular = \"West\";#offset_x = -2;if(#offset_x < #dx);#offset_x = #dx;if(dev);log(\"alterando offset_x para %#dx%\");endif;endif;endif;endif;if(dev);log(\"&aLado para construir: %&lado_para_construir%\");log(\"&eLado para construir perpendicular: %&lado_para_construir_perpendicular%\");log(\"Offsets: X:%#offset_x%, Z:%#offset_z%\");endif;set(@&mexican_builder[17],\"%&lado_para_construir%\");set(@&mexican_builder[18],\"%&lado_para_construir_perpendicular%\");if(#dx > 0);#x_filler_end = #x_inicial + 6;elseif(#dx < 0);#x_filler_end = #x_inicial - 6;endif;if(#dz > 0);#z_filler_end = #z_inicial + 6;elseif(#dz < 0);#z_filler_end = #z_inicial - 6;endif;regioncoords(%#x_inicial%,%#y_filler%,%#z_inicial%,%#x_filler_end%,%#y_filler%,%#z_filler_end%,#x_filler[],#y_filler[],#z_filler[],true);if(dev);log(\"&8[3] &6regioncoords: %#x_inicial%&b,&6%#y_filler%&b,&6%#z_inicial% &8-> &e%#x_filler_end%&b,&e%#y_filler%&b,&e%#z_filler_end%\");endif;if((#andares_por_vez > 1)&&(#andar_atual < #numero_de_andares));arraysize(#x_filler[],#index_apagar);#y_filler_2 = #y_filler + #vazios_entre_andares + 1;regioncoords(%#x_inicial%,%#y_filler_2%,%#z_inicial%,%#x_filler_end%,%#y_filler_2%,%#z_filler_end%,#x_filler[],#y_filler[],#z_filler[],false);if(dev);log(\"&8[4] &6regioncoords: %#x_inicial%&b,&6%#y_filler_2%&b,&6%#z_inicial% &8-> &e%#x_filler_end%&b,&e%#y_filler_2%&b,&e%#z_filler_end%\");endif;endif;set(#y_filler[0],\"-1\");if(#andares_por_vez > 1);set(#y_filler[%#index_apagar%],\"-1\");endif;else;log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cA home precisa ser sobre um dos vértices selecionados!\");unset(@mexican_builder);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &cOFF&4!\");stop;endif;else;ifmatches(%&qual_obra%,\"^(Parede)$\");calc(#distancia_1,\"sqrt((%XPOS%-%#x1%)+(%YPOS%-%#y1%)+(%ZPOS%-%#z1%))\");calc(#distancia_2,\"sqrt((%XPOS%-%#x2%)+(%YPOS%-%#y2%)+(%ZPOS%-%#z2%))\");#x_inicial = #x1;#z_inicial = #z1;#x_final = #x2;#z_final = #z2;#distancia = #distancia_1;if((#y2 < #y1)|| ((#y2 == #y1)&&(#distancia_2 < #distancia_1)));#distancia = #distancia_2;#x_inicial = #x2;#z_inicial = #z2;#x_final = #x1;#z_final = #z1;endif;if(#distancia > 3);log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cA home precisa ser próxima do vértice inferior da parede!\");unset(@mexican_builder);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &cOFF&4!\");stop;endif;#dx = #x_final - #x_inicial;#dz = #z_final - #z_inicial;#dx_absoluto = #dx;if(#dx_absoluto < 0);#dx_absoluto = #dx_absoluto * -1;endif;#dz_absoluto = #dz;if(#dz_absoluto < 0);#dz_absoluto = #dz_absoluto * -1;endif;if(#dx_absoluto >= #dz_absoluto);if(#dx > 0);&lado_para_construir = \"East\";else;&lado_para_construir = \"West\";endif;&lado_para_construir_perpendicular = \"North\";#z_inicial = ZPOS;#z_final = ZPOS;else;if(#dz > 0);&lado_para_construir = \"North\";else;&lado_para_construir = \"South\";endif;&lado_para_construir_perpendicular = \"East\";#x_inicial = XPOS;#x_final = XPOS;endif;#offset_x = 0;#offset_z = 0;if(dev);log(\"&aLado para construir: %&lado_para_construir%\");log(\"&eLado para construir perpendicular: %&lado_para_construir_perpendicular%\");log(\"Offsets: X:%#offset_x%, Z:%#offset_z%\");endif;set(@&mexican_builder[17],\"%&lado_para_construir%\");set(@&mexican_builder[18],\"%&lado_para_construir_perpendicular%\");endif;endif;set(&xz_start,\"%XPOS% %ZPOS%\");endif;unset(#index_apagar[]);if(dev);log(\"primeiro index segundo andar: %#primeiro_index_segundo_andar%\");endif;if((XPOS == #x2)&&(ZPOS == #z2));#devo_apagar = #primeiro_index_segundo_andar - 1;push(#index_apagar[],%#devo_apagar%);if((#andares_por_vez > 1)&&(#andar_atual < #numero_de_andares));arraysize(#x_coords[],#devo_apagar);dec(#devo_apagar,1);push(#index_apagar[],%#devo_apagar%);endif;else;#devo_apagar = 0;push(#index_apagar[],%#devo_apagar%);if((#andares_por_vez > 1)&&(#andar_atual < #numero_de_andares));#devo_apagar = #primeiro_index_segundo_andar;push(#index_apagar[],%#devo_apagar%);endif;endif;ifmatches(%&qual_obra%,\"^(Piso)$\");foreach(#index_apagar[],#index);if(dev);log(\"Removendo primeiro bloco (%#index%) &c--> &b%#x_coords[%#index%]%,%#y_coords[%#index%]%,%#z_coords[%#index%]%\");endif;set(#y_coords[%#index%],\"-1\");if(dev);log(\"Removendo primeiro bloco (%#index%) &a--> &b%#x_coords[%#index%]%,%#y_coords[%#index%]%,%#z_coords[%#index%]%\");endif;next;endif;wait(1t);setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,\"\",\"\",\"\",true);if(dev);log(\"Iniciando loop geral da macro\");endif;do();if(ultima_andada);unset(ultima_andada);ifmatches(\"%&qual_obra%\",\"^(parede)$\");if(dev);log(\"teria finalizado se não fosse dev\");endif;if(#andar_atual == #numero_de_andares);inc(#vou_finalizar_parede);if(#vou_finalizar_parede > 1);break;endif;endif;else;if(dev);log(\"Processo de voar finalizado! Próximo andar!\");endif;break;endif;endif;if((YPOS != #nivel_y_do_player)||(!FLYING)||(!CANFLY));do();if(!FLYING);do();if(!CANFLY);do();echo(\"%&comando_voar%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&comando_voar%\");do(60);wait(1t);until(CANFLY);until(CANFLY);endif;keyup(jump);keyup(sneak);wait(1t);if(dev);log(\"setFlying\");endif;setflying(true);do(10);until(FLYING);until(FLYING);setpos(5,,5);endif;if(#nivel_y_do_player != YPOS);setpos(5,,5);ifmatches(\"%&qual_obra%\",\"^(parede)$\");match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});regioncoords(%#x1%,%#y1_list%,%#z1%,%#x2%,%#y2_list%,%#z2%,#x_coords[],#y_coords[],#z_coords[],true);#y2_list = #y2_list + #vazios_entre_andares + 1;if((#y2_list > #y1)&&(#y2_list > #y2));#y2_list = #y2;if(#y1 > #y2);#y2_list = #y1;endif;endif;regioncoords(%#x1%,%#y1_list%,%#z1%,%#x2%,%#y2_list%,%#z2%,#x_coords[],#y_coords[],#z_coords[],false);setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,\"\",\"\",\"\",true);if(dev);log(\"&8[5] &6regioncoords: %#x1%&b,&6%#y1_list%&b,&6%#z1% &8-> &e%#x2%&b,&e%#y2_list%&b,&e%#z2%\");endif;else;setbuild(#x_filler[],#y_filler[],#z_filler[],%&id_do_bloco%,%#raio%,4,\"\",\"\",\"\",true);endif;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fCoordenada Y necessária: &e%#nivel_y_do_player% &8(&7atual: %YPOS%&8)\");unsafe(0);unset(#x_preencher[]);unset(#y_preencher[]);unset(#z_preencher[]);foreach(#todos_os_y[],#i);if(dev);log(\"preencher %XPOS%,%#i%,%ZPOS%\");endif;next;endunsafe;do();if(!FLYING);keyup(jump);keyup(sneak);wait(1t);if(dev);log(\"setFlying\");endif;setflying(true);setpos(5,,5);wait(1t);setpos(5,,5);endif;if(YPOS < #nivel_y_do_player);if(dev);log(\"Y &cinferior&b ao necessário (%YPOS% < %#nivel_y_do_player%)\");endif;keyup(sneak);keydown(jump);#x = XPOS;#y = YPOS + 2;#z = ZPOS;getid(%#x%,%#y%,%#z%,&id_obstaculo);ifmatches(\"%&id_obstaculo%\",\"^(%&blocos_que_pode_entrar%)$\");else;if(false);wait(5t);if(dev);log(\"setFlying(false)\");endif;setflying(false);setpos(5,,5);do(80);while(FLYING);pick(277,\"diamond_shovel\",278,\"diamond_pickaxe\",279,\"diamond_axe\");wait(2t);do(60);destroyblock(%#x%,%#y%,%#z%);wait(1t);getid(%#x%,%#y%,%#z%,&id_obstaculo);ifmatches(\"%&id_obstaculo%\",\"^(%&blocos_que_pode_entrar%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aObstáculo destruído!\");setflying(true);break;endif;loop;else;do(120);pick(277,\"diamond_shovel\",278,\"diamond_pickaxe\",279,\"diamond_axe\");look(,270);if(HIT == \"TILE\");key(attack);endif;while(HIT == \"TILE\");endif;endif;elseif(YPOS > #nivel_y_do_player);if(dev);log(\"Y &asuperior&b ao necessário (%YPOS% > %#nivel_y_do_player%)\");endif;keyup(jump);keydown(sneak);#x = XPOS;#y = YPOS - 1;#z = ZPOS;getid(%#x%,%#y%,%#z%,&id_obstaculo);ifmatches(\"%&id_obstaculo%\",\"^(%&blocos_que_pode_entrar%)$\");#y = YPOS;endif;getid(%#x%,%#y%,%#z%,&id_obstaculo);ifmatches(\"%&id_obstaculo%\",\"^(%&blocos_que_pode_entrar%)$\");else;if(dev);log(\"setFlying(false)\");endif;setflying(false);do(40);while(FLYING);pick(277,\"diamond_shovel\",278,\"diamond_pickaxe\",279,\"diamond_axe\");wait(2t);do(60);destroyblock(%#x%,%#y%,%#z%);wait(1t);getid(%#x%,%#y%,%#z%,&id_obstaculo);ifmatches(\"%&id_obstaculo%\",\"^(%&blocos_que_pode_entrar%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aObstáculo destruído!\");break;endif;loop;endif;else;setpos(5,,5);keyup(jump);keyup(sneak);freeze();getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");pick(%&id_do_bloco%);wait(1t);else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 1\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();endif;setpos(5,2,5);wait(1);break;endif;loop;wait(1);endif;if(#nivel_y_do_player == YPOS);setpos(5,,5);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aPosicionamento finalizado.\");break;endif;loop;endif;setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,\"\",\"\",\"\",true);if(dev);log(\"Lado para construir: %&lado_para_construir%\");log(\"Lado para construir perpendicular: %&lado_para_construir_perpendicular%\");log(\"Primeiro loop: %primeiro_loop%\");arraysize(#x_coords[],#indexlog);dec(#indexlog);log(\"&8[1] &5setBuild: &6%#x_coords[0]%&b,&6%#y_coords[0]%&b,&6%#z_coords[0]% &8-> &6%#x_coords[%#indexlog%]%&b,&6%#y_coords[%#indexlog%]%&b,&6%#z_coords[%#indexlog%]%\");endif;if(!primeiro_loop);#offset_x = 0;#offset_z = 0;ifmatches(%&qual_obra%,\"^(Piso)$\");if(&lado_para_construir_perpendicular == \"East\");#offset_x = 5;elseif(&lado_para_construir_perpendicular == \"West\");#offset_x = -5;elseif(&lado_para_construir_perpendicular == \"South\");#offset_z = 5;else;#offset_z = -5;endif;endif;endif;unset(primeiro_loop);if(dev);log(\"offsetX: %#offset_x%, offsetZ: %#offset_z%\");endif;#x_para_posicionar = XPOS + #offset_x;#z_para_posicionar = ZPOS + #offset_z;if(dev);log(\"posicionar em X=%#x_para_posicionar% Z=%#z_para_posicionar%\");log(\"x_inicial:%#x_inicial%, z_final=%#z_inicial%\");log(\"x_final:%#x_final%, z_final=%#z_final%\");endif;if((&lado_para_construir_perpendicular == \"East\")&&(#x_para_posicionar >= (#x_final - 2)));if(#x_para_posicionar > #x_final);#x_para_posicionar = #x_final;endif;if(dev);log(\"chegando ao final (condição 1)\");endif;set(ultima_andada);elseif((&lado_para_construir_perpendicular == \"West\")&&(#x_para_posicionar <= (#x_final + 2)));if(#x_para_posicionar < #x_final);#x_para_posicionar = #x_final;endif;if(dev);log(\"chegando ao final (condição 2)\");endif;set(ultima_andada);elseif((&lado_para_construir_perpendicular == \"South\")&&(#z_para_posicionar >= (#z_final - 2)));if(#z_para_posicionar > #z_final);#z_para_posicionar = #z_final;endif;if(dev);log(\"chegando ao final (condição 3)\");endif;set(ultima_andada);elseif((&lado_para_construir_perpendicular == \"North\")&&(#z_para_posicionar <= (#z_final + 2)));if(#z_para_posicionar < #z_final);#z_para_posicionar = #z_final;endif;if(dev);log(\"chegando ao final (condição 4)\");endif;set(ultima_andada);endif;do();if(dev);log(\"3. andar até coordenada correta (%XPOS% == %#x_para_posicionar%)&&(%ZPOS% == %#z_para_posicionar%) ~ (%#dx%,%#dz%)\");endif;&motion_x = \"0\";&motion_z = \"0\";if((XPOS == #x_para_posicionar)&&(ZPOS == #z_para_posicionar));if(dev);log(\"parando movimentação pois (%XPOS%=%#x_para_posicionar%)&&(%ZPOS%==%#z_para_posicionar%)\");endif;freeze();getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 2\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();endif;setpos(5,2,5);break;endif;if(dev);endif;if(#x_para_posicionar > XPOS);set(&motion_x,\"%&speed_conversao%\");elseif(#x_para_posicionar < XPOS);set(&motion_x,\"-%&speed_conversao%\");endif;if(#z_para_posicionar > ZPOS);set(&motion_z,\"%&speed_conversao%\");elseif(#z_para_posicionar < ZPOS);set(&motion_z,\"-%&speed_conversao%\");endif;setmotion(%&motion_x%,0,%&motion_z%);if(dev);endif;if(!FLYING);freeze();do();if(!CANFLY);do();echo(\"%&comando_voar%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&comando_voar%\");do(60);wait(1t);until(CANFLY);until(CANFLY);endif;keyup(jump);keyup(sneak);wait(1t);if(dev);log(\"setFlying\");endif;setflying(true);do(10);until(FLYING);until(FLYING);endif;getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;keydown(jump);wait(2t);keyup(jump);freeze();wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 5\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();endif;setpos(5,2,5);endif;loop;getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 3\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();endif;setpos(5,2,5);if(dev);log(\"iniciar movimentos para construir mesmo.\");endif;#objetivo_x = XPOS;#objetivo_z = ZPOS;if((&lado_para_construir == \"East\")||(&lado_para_construir == \"West\"));if(XPOS == #x_inicial);#objetivo_x = #x_final;else;#objetivo_x = #x_inicial;endif;else;if(ZPOS == #z_inicial);#objetivo_z = #z_final;else;#objetivo_z = #z_inicial;endif;endif;if(dev);log(\"Iniciando loop até que (%XPOS%==%#objetivo_x%)&&(%ZPOS% == %#objetivo_z%)\");endif;do();if((XPOS == #objetivo_x)&&(ZPOS == #objetivo_z));if(dev);log(\"Loop geral finalizado (%XPOS%==%#objetivo_x%)&&(%ZPOS% == %#objetivo_z%)\");endif;freeze();getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 4\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();endif;setpos(5,2,5);if(&lado_para_construir == \"East\");set(&lado_para_construir,\"West\");elseif(&lado_para_construir == \"West\");set(&lado_para_construir,\"East\");elseif(&lado_para_construir == \"North\");set(&lado_para_construir,\"South\");elseif(&lado_para_construir == \"South\");set(&lado_para_construir,\"North\");endif;ifmatches(\"%&qual_obra%\",\"^(parede)$\");#andar_atual_log = #andar_atual + 1;if( (#andar_atual + 1) > #numero_de_andares);set(ultima_andada);break;endif;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fAndar atual: &a%#andar_atual_log%&8/&e%#numero_de_andares%\");#primeiro_andar = #andar_atual + 1;set(@&mexican_builder[20],\"%#primeiro_andar%\");#loops = #numero_de_andares - 1;#incremento_y = #vazios_entre_andares + 1;ifmatches(%&qual_obra%,\"^(Parede)$\");#loops = #andar_atual + 1;endif;match(\"%&coordenadas_dos_vertices%\",\"^(-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+) (-?\\d+)$\",{#x1,#y1,#z1,#x2,#y2,#z2});unset(#x_coords[]);unset(#y_coords[]);unset(#z_coords[]);#nivel_y_do_player = (#y1 + 1) + ((#andar_atual - 0)*(#vazios_entre_andares + 1));if(dev);log(\"nivel y do player: %#nivel_y_do_player%\");endif;#andares_agora = 0;#y_filler = -1;#primeiro_index_segundo_andar = -1;for(#loop,%#andar_atual%,%#loops%);#y = #incremento_y * #loop;#y1_list = #y + #y1;#y2_list = #y + #y2;ifmatches(%&qual_obra%,\"^(Parede)$\");#y1_list = #y1 + #y;#y2_list = #y1 + #y + (#vazios_entre_andares + 1);if((#y2_list > #y2)&&(#y2_list > #y1));if(#y2 > #y1);#y2_list = #y2;else;#y2_list = #y1;endif;endif;endif;if(#y_filler == -1);#y_filler = #y1_list;endif;indexof(#todos_os_y[],#i,%#y1_list%);if(#i == -1);push(#todos_os_y[],%#y1_list%);endif;regioncoords(%#x1%,%#y1_list%,%#z1%,%#x2%,%#y2_list%,%#z2%,#x_coords[],#y_coords[],#z_coords[],false);if(dev);log(\"&8[1] &6regioncoords: %#x1%&b,&6%#y1_list%&b,&6%#z1% &8-> &e%#x2%&b,&e%#y2_list%&b,&e%#z2%\");endif;if(#t == -1);arraysize(#x_coords[],#primeiro_index_segundo_andar);endif;if(#andar_atual_log < #numero_de_andares);set(devo_remover_primeiro_bloco);endif;inc(#andares_agora);if(#andares_agora >= #andares_por_vez);break;endif;next;#andar_atual = #andar_atual + #andares_por_vez;endif;if(dev);log(\"Lado para construir alterado para %&lado_para_construir%. Perpendicular: %&lado_para_construir_perpendicular%\");endif;break;else;if(dev);log(\"[2] Seguindo movimentação pois (%XPOS%!=%#objetivo_x%)||(%ZPOS% != %#objetivo_z%)\");endif;if(!FLYING);freeze();wait(1t);setflying(true);if(dev);log(\"setFlying\");endif;do(20);until(FLYING);if(dev);log(\"flying: %FLYING%\");endif;endif;getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 6\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();setpos(5,2,5);endif;endif;if(GUI == \"NONE\");getslot(%&id_do_bloco%,#slot_com_item_na_hotbar);elseif(GUI == \"GUIINVENTORY\");getslot(%&id_do_bloco%,#slot_com_item_na_hotbar,36);endif;if(#slot_com_item_na_hotbar == -1);unsafe(0);gui(inventory);wait(1t);for(#slot,9,35);ifmatches(\"%ITEM%\",\"[a-z]\");getslotitem(%#slot%,&id,#stack,#data);else;getslotitem(%#slot%,#id,#stack,#data);set(&id,\"%#id%\");endif;ifmatches(\"%&id_do_bloco%\",\"^(%&id%|%&id%:%#data%)$\");slotclick(%#slot%,l,true);ifmatches(\"%&delay_para_slotclick%\",\"[1-9]\");wait(%&delay_para_slotclick%);endif;endif;next;gui();endunsafe;pick(%&id_do_bloco%);getslot(%&id_do_bloco%,#slot_com_item_na_hotbar);if(#slot_com_item_na_hotbar == -1);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fAcabaram os itens...\");unsetbuild();if(dev);log(\"&cunsetBuild()\");endif;unset(@confirmacao_sethome_lomexicano);unset(@sethome_lomexicano);set(&xz_sethome_temp,\"%XPOS% %ZPOS%\");set(&xyz_sethome_temp,\"%XPOS% %YPOS% %ZPOS%\");do(4);echo(\"/sethome %&home_plant_temp_sufixo%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f/sethome %&home_plant_temp_sufixo%\");wait(5t);do(8);wait(1t);until((@sethome_lomexicano)||(@confirmacao_sethome_lomexicano));until(@sethome_lomexicano);ifmatches(\"%&comprar_ou_buscar%\",\"Comprar\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fProcedimento de &acomprar &fitens...\");unset(@teleportado_lomexicano);do();echo(\"%&home_comprar%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&home_comprar%\");do(70);wait(2t);until((@teleportado_lomexicano)||(&xz_sethome_temp != \"%XPOS% %ZPOS%\"));until((@teleportado_lomexicano)||(&xz_sethome_temp != \"%XPOS% %ZPOS%\"));wait(3t);echo(\"/menuloja on\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f/menuloja on\");wait(6t);unset(cheio);do();if(GUI == \"NONE\");ifcontains(\"%SERVER%\",\"mystic\");do(5);keydown(sneak);wait(2t);key(use);wait(2t);until(EMPTYSLOTS == 0);if(EMPTYSLOTS != 0);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fVazios no inventário: &a%EMPTYSLOTS%\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eInventário lotado.\");break;endif;else;if(HIT == \"PLAYER\");echo(\"/esconder\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f/esconder\");wait(5t);do(10);wait(1t);while(HIT == \"PLAYER\");elseif(HIT == \"TILE\");do(3);ifmatches(%HITID%,\"^(68|wall_sign)$\");key(attack);do(20);wait(1t);while(GUI == \"NONE\");else;break;endif;while(GUI == \"NONE\");if(GUI == \"NONE\");ifmatches(%HITID%,\"^(68|wall_sign)$\");echo(\"/menuloja on\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f/menuloja on\");wait(15t);endif;endif;endif;endif;elseif(GUI == \"GUICHEST\");unsafe();set(cheio);for(#slot,9,44);ifmatches(\"%ITEM%\",\"[a-z]\");getslotitem(%#slot%,&i,#stack);else;getslotitem(%#slot%,#i,#stack);endif;if(#stack == 0);unset(cheio);endif;next;endunsafe;if(cheio);break;endif;getslotitemext(1,,,,,&nbt);strip(&nbt,\"%&nbt%\");set(&valor,\"erro\");ifmatches(\"%&nbt%\",\"Valor: (.+) coins\",&valor,1);endif;if(dev);log(\"calc(%&valor% <= %&valor_maximo%)\");endif;calc(devo_comprar,\"%&valor% <= %&valor_maximo%\");if(devo_comprar);slotclick(2,l,false);wait(2t);else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cValor acima do máximo setado! &8(&7%&valor% > %&valor_maximo%&8)\");endif;endif;loop;gui();log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fProcedimento &aconcluído...\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fProcedimento de &6pegar &fitens na mkb...\");do();unset(#tentativas_home_temp);unset(@teleportado_lomexicano);do();if((setei_home_temp_mkb)&&(#tentativas_home_temp <= 4));echo(\"%&home_mkb_temp%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&home_mkb_temp%\");inc(#tentativas_home_temp);else;if(#tentativas_home_temp > 4);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &cMuitas tentativas falharam. Alterando para home normal...\");unset(setei_home_temp_mkb);unset(#tentativas_home_temp);endif;echo(\"%&home_mkb%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&home_mkb%\");endif;do(40);unsafe(0);set(done);for(#z_bau,-3,-2);for(#y_bau,-1,3);getidrel(0,%#y_bau%,%#z_bau%,&id_deve_ser_bau);ifmatches(\"%&id_deve_ser_bau%\",\"^(chest|trapped_chest|54|146)$\");else;unset(done);break;endif;next;if(!done);break;endif;next;endunsafe;if((done)&&(@teleportado_lomexicano));break;elseif((!@teleportado_lomexicano)&&(done));if((dev)||(!usar_onchat));log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fPelo jeito aqui não tem onChat, então ignoraremos isso...\");set(@teleportado_lomexicano);break;endif;else;wait(7t);endif;loop;until((done)&&(@teleportado_lomexicano));if(!setei_home_temp_mkb);set(#x_mkb,\"%XPOS%\");set(#z_mkb,\"%ZPOS%\");endif;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aTeleportado para a trap com sucesso!\");unset(done);do();if((!setei_home_temp_mkb)&& ((#primeira_coluna == 1)||(XPOS == (#x_mkb + #primeira_coluna - 1))));look(0,314);wait(1t);unset(@sethome_lomexicano);unset(@confirmacao_sethome_lomexicano);do(4);setpos(5,,5);echo(\"/sethome %&home_mkb_temp_sufixo%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f/sethome %&home_mkb_temp_sufixo%\");do(5);wait(1t);until(@sethome_lomexicano);do(20);wait(2t);until((@sethome_lomexicano)||(@confirmacao_sethome_lomexicano));until(@sethome_lomexicano);set(setei_home_temp_mkb);unset(acabaram_os_baus);endif;#x_necessario = #x_mkb + #primeira_coluna - 1;if(ZPOS != #z_mkb);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fCoordenada Z incorreta! &aReposicionando...\");break;endif;if(XPOS != #x_necessario);do();look(0,314);if(XPOS < #x_necessario);if((#x_necessario - XPOS) == 1);getidrel(1,-1,0,&nao_pode_ser_ar);getidrel(1,0,0,&tem_que_ser_ar);getidrel(1,1,0,&tem_que_ser_ar2);ifmatches(\"%&nao_pode_ser_ar%\",\"^(%&blocos_que_pode_entrar%)$\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que acabaram os baús &8(&7chão&8)&f. &aReiniciando...\");set(acabaram_os_baus);endif;ifmatches(\"<%&tem_que_ser_ar%><%&tem_que_ser_ar2%>\",\"^(<(%&blocos_que_pode_entrar%)>){2}$\");else;if(dev);log(\"DeveriamSerAr:<%&tem_que_ser_ar%><%&tem_que_ser_ar2%>\");endif;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que acabaram os baús &8(&7obstáculo&8)&f. &aReiniciando...\");set(acabaram_os_baus);endif;if(acabaram_os_baus);#primeiro_bau = 1;#primeira_coluna = 1;unset(setei_home_temp_mkb);set(@&mexican_builder[14],\"%#primeiro_bau%\");set(@&mexican_builder[15],\"%#primeira_coluna%\");keyup(right);keyup(left);keyup(sneak);break;endif;endif;keyup(left);keydown(right);elseif(XPOS > #x_necessario);keyup(right);keydown(left);else;keyup(left);keyup(right);wait(1t);freeze();wait(1t);setpos(5,,5);wait(1t);unsafe(0);unset(acabaram_os_baus);for(#z_bau,-3,-2);for(#y_bau,-1,3);getidrel(0,%#y_bau%,%#z_bau%,&id_deve_ser_bau);ifmatches(\"%&id_deve_ser_bau%\",\"^(chest|trapped_chest|54|146)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que acabaram os baús. &aReiniciando...\");set(acabaram_os_baus);break;endif;next;if(acabaram_os_baus);break;endif;next;endunsafe;break;endif;while(ZPOS == #z_mkb);if((ZPOS != #z_mkb)||(acabaram_os_baus));if(!acabaram_os_baus);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fCoordenada Z incorreta! &aReposicionando...\");else;#primeiro_bau = 1;#primeira_coluna = 1;unset(setei_home_temp_mkb);set(@&mexican_builder[14],\"%#primeiro_bau%\");set(@&mexican_builder[15],\"%#primeira_coluna%\");endif;break;endif;else;if(GUI != \"NONE\");gui();wait(2t);endif;if(GUI == \"NONE\");if(#primeiro_bau < 1);#primeiro_bau = 1;endif;#bau_x = XPOS;#bau_y = YPOS + 4 - #primeiro_bau;#bau_z = ZPOS - 2;keyup(sneak);simulaterightclick(%#bau_x%,%#bau_y%,%#bau_z%);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eColuna &a%#primeira_coluna%&8, &fbaú %#primeiro_bau%\");do(20);wait(1t);until(GUI == \"GUICHEST\");endif;if(GUI == \"GUICHEST\");wait(2t);unsafe(0);for(#slot,0,53);ifmatches(\"%ITEM%\",\"[a-z]\");getslotitem(%#slot%,&id_no_slot,#stack,#data);else;getslotitem(%#slot%,#id_no_slot,#stack,#data);set(&id_no_slot,\"%#id_no_slot%\");endif;if(#stack > 0);ifmatches(\"%&id_do_bloco%\",\"^(%&id_no_slot%|%&id_no_slot%:%#data%)$\");slotclick(%#slot%,l,true);ifmatches(\"%ITEM%\",\"[a-z]\");getslotitem(%#slot%,&id_no_slot,#stack,#data);else;getslotitem(%#slot%,#id_no_slot,#stack,#data);endif;if(#stack > 0);wait(2t);ifmatches(\"%ITEM%\",\"[a-z]\");getslotitem(%#slot%,&id_no_slot,#stack,#data);else;getslotitem(%#slot%,#id_no_slot,#stack,#data);endif;if(#stack > 0);set(done);log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &aParece que seu inventário lotou!\");break;endif;endif;endif;endif;next;gui();endunsafe;if(!done);inc(#primeiro_bau,1);if(#primeiro_bau > 5);inc(#primeira_coluna,1);set(#primeiro_bau,1);unset(setei_home_temp_mkb);endif;set(@&mexican_builder[14],\"%#primeiro_bau%\");set(@&mexican_builder[15],\"%#primeira_coluna%\");endif;endif;endif;until(done);until(done);endif;unset(@teleportado_lomexicano);do();echo(\"%&home_plant_temp%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&home_plant_temp%\");do(70);wait(2t);until((@teleportado_lomexicano)||(&xz_sethome_temp == \"%XPOS% %ZPOS%\"));until((@teleportado_lomexicano)||(&xz_sethome_temp == \"%XPOS% %ZPOS%\"));setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,\"\",\"\",\"\",true);if(dev);log(\"setBuild\");endif;if(!FLYING);do();if(!CANFLY);do();echo(\"%&comando_voar%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&comando_voar%\");do(60);wait(1t);until(CANFLY);until(CANFLY);endif;keyup(jump);keyup(sneak);wait(1t);if(dev);log(\"setFlying\");endif;setflying(true);do(10);until(FLYING);until(FLYING);endif;keydown(jump);wait(2t);keyup(jump);freeze();wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 5\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();endif;setpos(5,2,5);endif;else;set(&motion_x,\"0\");set(&motion_z,\"0\");set(&motion_para_setar,\"%&motion_de_voo%\");#dx = XPOS - #objetivo_x;#dz = ZPOS - #objetivo_z;if(#dx < 0);#dx = #dx * -1;endif;if(#dz < 0);#dz = #dz * -1;endif;if((#dx < 2)&&(#dz < 2));if(#velocidade_do_voo > 4);set(&motion_para_setar,\"0.04\");endif;endif;if(#objetivo_x > XPOS);set(&motion_x,\"%&motion_para_setar%\");elseif(#objetivo_x < XPOS);set(&motion_x,\"-%&motion_para_setar%\");endif;if(#objetivo_z > ZPOS);set(&motion_z,\"%&motion_para_setar%\");elseif(#objetivo_z < ZPOS);set(&motion_z,\"-%&motion_para_setar%\");endif;if(!FLYING);freeze();do();if(!CANFLY);do();echo(\"%&comando_voar%\");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &f%&comando_voar%\");do(60);wait(1t);until(CANFLY);until(CANFLY);endif;keyup(jump);keyup(sneak);wait(1t);if(dev);log(\"setFlying\");endif;setflying(true);do(10);until(FLYING);until(FLYING);endif;getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;keydown(jump);wait(2t);keyup(jump);freeze();wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &fParece que a posição não está correta. Tentando corrigir...\");if(dev);log(\"correção 5\");endif;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;freeze();if(!FLYING);setflying(true);if(dev);log(\"setFlying\");endif;wait(2t);endif;wait(2t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");else;do(40);keydown(jump);wait(1t);keyup(jump);wait(1t);getidrel(0,0,0,&idnosmeuspes);ifmatches(\"%&idnosmeuspes%\",\"^(%&blocos_que_pode_entrar%)$\");break;endif;loop;endif;freeze();endif;setpos(5,2,5);endif;if(#andar_devagarinho >= 8);setmotion(\"%&motion_x%\",0,\"%&motion_z%\");elseif(#andar_devagarinho < 7);inc(#andar_devagarinho);calc(&motion_x_lento,\"(%&motion_x% > 0)*0.03\");calc(&motion_z_lento,\"(%&motion_z% > 0)*0.03\");if(dev);log(\"devagarinho %#andar_devagarinho%... (%&motion_x_lento%,0,%&motion_z_lento%)\");endif;setmotion(\"%&motion_x_lento%\",0,\"%&motion_z_lento%\");elseif(#andar_devagarinho == 7);unsetbuild();setbuild(#x_filler[],#y_filler[],#z_filler[],%&id_do_bloco%,%#raio%,4,\"\",\"\",\"\",true);wait(2);setbuild(#x_coords[],#y_coords[],#z_coords[],%&id_do_bloco%,%#raio%,%#blocos_por_segundo%,\"\",\"\",\"\",true);inc(#andar_devagarinho);endif;endif;loop;loop;while(necessario_reiniciar_andar);loop;unset(@mexican_builder);unsetbuild();if(dev);log(\"&cunsetBuild()\");endif;log(\" \");log(\"&f&l[&2&lMA&f&lC&4&lRO&f&l] &eConstrutor &2MEX&fIC&4ANO&e: &cOFF&4!\");keyup(forward);keyup(back);keyup(left);keyup(right);keyup(jump);keyup(sneak);}$$",
      "name": "ConstrutorMexicanoSHOP",
      "_id": "665a54d46b4e4d001ff84383",
      "type": "Main"
    },
    "whitelist": {
      "entry": "_",
      "until": "2099-06-03T03:00:00.000Z",
      "_id": "665e6c5a57ec7d001f1cfe8e"
    },
    "key": "construtor_mexicano_shop",
    "modules": [
      {
        "name": "SwUtils-Api10.jar",
        "_id": "665e7b7457ec7d001f1cff90",
        "version": "Api10",
        "url": "https://download.bezourobot.com/files/modules/10/SwUtils-Api10.jar"
      },
      {
        "name": "MexicanStuff-Api10.jar",
        "_id": "665e7b7857ec7d001f1cff91",
        "version": "Api10",
        "url": "https://download.bezourobot.com/files/modules/10/MexicanStuff-Api10.jar"
      }
    ]
  },
  "ok": true
}
}
